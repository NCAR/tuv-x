<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TUV-x: musica_map::map_t Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TUV-x
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemusica__map.html">musica_map</a></li><li class="navelem"><a class="el" href="structmusica__map_1_1map__t.html">map_t</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="structmusica__map_1_1map__t-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">musica_map::map_t Interface Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Map between arrays.  
 <a href="structmusica__map_1_1map__t.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a02523f0d8e5e12479833709049763f83"><td class="memItemLeft" align="right" valign="top"><a id="a02523f0d8e5e12479833709049763f83" name="a02523f0d8e5e12479833709049763f83"></a>
procedure&#160;</td><td class="memItemRight" valign="bottom"><b>apply</b></td></tr>
<tr class="memdesc:a02523f0d8e5e12479833709049763f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfers data from source to destination arrays. <br /></td></tr>
<tr class="separator:a02523f0d8e5e12479833709049763f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f0e0139ca2f1f169afecb408cf57b5"><td class="memItemLeft" align="right" valign="top"><a id="a60f0e0139ca2f1f169afecb408cf57b5" name="a60f0e0139ca2f1f169afecb408cf57b5"></a>
procedure&#160;</td><td class="memItemRight" valign="bottom"><b>pack_size</b></td></tr>
<tr class="memdesc:a60f0e0139ca2f1f169afecb408cf57b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of a character buffer required to pack the map. <br /></td></tr>
<tr class="separator:a60f0e0139ca2f1f169afecb408cf57b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e636b08ce460042a93ee70f29be9989"><td class="memItemLeft" align="right" valign="top"><a id="a2e636b08ce460042a93ee70f29be9989" name="a2e636b08ce460042a93ee70f29be9989"></a>
procedure&#160;</td><td class="memItemRight" valign="bottom"><b>mpi_pack</b></td></tr>
<tr class="memdesc:a2e636b08ce460042a93ee70f29be9989"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packs the map onto a character buffer. <br /></td></tr>
<tr class="separator:a2e636b08ce460042a93ee70f29be9989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac207174e4ea7b6e1105d9f0b353998f6"><td class="memItemLeft" align="right" valign="top"><a id="ac207174e4ea7b6e1105d9f0b353998f6" name="ac207174e4ea7b6e1105d9f0b353998f6"></a>
procedure&#160;</td><td class="memItemRight" valign="bottom"><b>mpi_unpack</b></td></tr>
<tr class="memdesc:ac207174e4ea7b6e1105d9f0b353998f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpacks the map from a character buffer. <br /></td></tr>
<tr class="separator:ac207174e4ea7b6e1105d9f0b353998f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf652b836944246b80d654bdb4796fe1"><td class="memItemLeft" align="right" valign="top"><a id="abf652b836944246b80d654bdb4796fe1" name="abf652b836944246b80d654bdb4796fe1"></a>
procedure&#160;</td><td class="memItemRight" valign="bottom"><b>print</b> =&gt; <a class="el" href="namespacemusica__map.html#af19dc7d1883d46a6b2d55c5277091c5f">print_map</a></td></tr>
<tr class="memdesc:abf652b836944246b80d654bdb4796fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the map. <br /></td></tr>
<tr class="separator:abf652b836944246b80d654bdb4796fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2e3feff895f5112dbc722c1e430d37c5"><td class="memItemLeft" align="right" valign="top"><a id="a2e3feff895f5112dbc722c1e430d37c5" name="a2e3feff895f5112dbc722c1e430d37c5"></a>
integer&#160;</td><td class="memItemRight" valign="bottom"><b>from_size_</b></td></tr>
<tr class="memdesc:a2e3feff895f5112dbc722c1e430d37c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Source array size. <br /></td></tr>
<tr class="separator:a2e3feff895f5112dbc722c1e430d37c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21342750218afac0b679e1ed32c2b5e8"><td class="memItemLeft" align="right" valign="top"><a id="a21342750218afac0b679e1ed32c2b5e8" name="a21342750218afac0b679e1ed32c2b5e8"></a>
integer&#160;</td><td class="memItemRight" valign="bottom"><b>to_size_</b></td></tr>
<tr class="memdesc:a21342750218afac0b679e1ed32c2b5e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destination array size. <br /></td></tr>
<tr class="separator:a21342750218afac0b679e1ed32c2b5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad82c719411446f9c661d609ebda5601b"><td class="memItemLeft" align="right" valign="top"><a id="ad82c719411446f9c661d609ebda5601b" name="ad82c719411446f9c661d609ebda5601b"></a>
procedure, private&#160;</td><td class="memItemRight" valign="bottom"><b>add_default_matches</b></td></tr>
<tr class="memdesc:ad82c719411446f9c661d609ebda5601b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds default matches by name to the map. <br /></td></tr>
<tr class="separator:ad82c719411446f9c661d609ebda5601b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952460e1468d9a7296505efe67a926d5"><td class="memItemLeft" align="right" valign="top"><a id="a952460e1468d9a7296505efe67a926d5" name="a952460e1468d9a7296505efe67a926d5"></a>
procedure, private&#160;</td><td class="memItemRight" valign="bottom"><b>validate</b></td></tr>
<tr class="memdesc:a952460e1468d9a7296505efe67a926d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates the matches based on user-selected options. <br /></td></tr>
<tr class="separator:a952460e1468d9a7296505efe67a926d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6647104e92786c413998a8c6359475"><td class="memItemLeft" align="right" valign="top">type(<a class="el" href="structmusica__map_1_1map__t.html">map_t</a>) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmusica__map_1_1map__t.html#a8b6647104e92786c413998a8c6359475">constructor</a> (config, from_labels, to_labels)</td></tr>
<tr class="memdesc:a8b6647104e92786c413998a8c6359475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="structmusica__map_1_1map__t.html" title="Map between arrays.">map_t</a> object.  <a href="structmusica__map_1_1map__t.html#a8b6647104e92786c413998a8c6359475">More...</a><br /></td></tr>
<tr class="separator:a8b6647104e92786c413998a8c6359475"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a672c8ff342a1ad8e831bf5b00e814eab"><td class="memItemLeft" align="right" valign="top"><a id="a672c8ff342a1ad8e831bf5b00e814eab" name="a672c8ff342a1ad8e831bf5b00e814eab"></a>
type(<a class="el" href="structmusica__map_1_1pair__t.html">pair_t</a>), dimension(:), allocatable&#160;</td><td class="memItemRight" valign="bottom"><b>pairs_</b></td></tr>
<tr class="memdesc:a672c8ff342a1ad8e831bf5b00e814eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapped pairs of array elements. <br /></td></tr>
<tr class="separator:a672c8ff342a1ad8e831bf5b00e814eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Map between arrays. </p>
<p >Constructor of <a class="el" href="structmusica__map_1_1map__t.html" title="Map between arrays.">map_t</a> objects.</p>
<p >Maps can be used to transfer data from a source to a destination array with optional scaling.</p>
<p >The mapped elements are identified by name according to the passed configuration. The configuration format for a map is: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;match full source&quot;: false,</div>
<div class="line">  &quot;match full destination&quot;: false,</div>
<div class="line">  &quot;sum multiple matches&quot;: true,</div>
<div class="line">  &quot;default matching&quot;: &quot;backup&quot;,</div>
<div class="line">  &quot;pairs&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;from&quot;: &quot;foo&quot;,</div>
<div class="line">      &quot;to&quot;: &quot;bar&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;from&quot;: &quot;baz&quot;,</div>
<div class="line">      &quot;to&quot;: &quot;quz&quot;,</div>
<div class="line">      &quot;scale by&quot;: 1.2</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p >The "match full source" and "match full destination" terms are optional and default to <code>true</code>. When these are <code>true</code> unmatched source/destination array elements will trigger an error. If unmatched destination elements are allowed, they will be set to zero when the map is applied to transfer data. The "sum multiple matches" term is optional and defaults to <code>false</code>. When this is <code>true</code>, multiple matches to a single destination array element will be summed when the map is applied to transfer data. When this is <code>false</code>, the second match to a destination array element will trigger an error. The "default matching" term is optional and indicates how matching names that appear in both source and destination label arrays should be treated. The three options for default matching are "always", "backup", and "never"; the default option is "never". Default matching "always" indicates that every time a name appears in both the source and destination label arrays, a set of paired elements should be created in the map with a scaling factor of 1.0. Default matching "backup" indicates that such a pair is only created when no explicit entries for the destination element exist in the configuration. Default mapping "never" means that no such pairs are created. If the default mapping is set to "always" or "backup", the "match full destination" term must be <code>true</code>.</p>
<p >The "pairs" term is required and is an array that describes each matched pair of elements. The matched pair terms must include "from" and "to" terms. The "scale by" term is optional and defaults to 1.0. This scaling factor will be applied to the source array element before additon to the destination array element.</p>
<p >The <code><a class="el" href="structmusica__map_1_1map__t.html" title="Map between arrays.">map_t</a></code> constructor accepts an array of source element labels and an array of destination element labels that are used to identify the mapped array indices. </p>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a id="a8b6647104e92786c413998a8c6359475" name="a8b6647104e92786c413998a8c6359475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6647104e92786c413998a8c6359475">&#9670;&#160;</a></span>constructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">type(<a class="el" href="structmusica__map_1_1map__t.html">map_t</a>) function musica_map::map_t::constructor </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structmusica__config_1_1config__t.html">config_t</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structmusica__string_1_1string__t.html">string_t</a>), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>from_labels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structmusica__string_1_1string__t.html">string_t</a>), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>to_labels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="structmusica__map_1_1map__t.html" title="Map between arrays.">map_t</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">config</td><td>Map configuration </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_labels</td><td>Source array element labels </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to_labels</td><td>Destination array element labels </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>/tuv-x/src/util/<a class="el" href="map_8F90.html">map.F90</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
